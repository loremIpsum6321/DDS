<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Supply DDS</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <div class="header-cogi-status">
            <span class="cogi-title">COGIs -> </span>
            <div class="status-box">
                <span class="cogi-label">Batching:</span>
                <input type="number" class="cogi-value-input" id="cogiBatchingCount" value="0" min="0">
            </div>
            <div class="status-box">
                <span class="cogi-label">Packaging:</span>
                <input type="number" class="cogi-value-input" id="cogiPackagingCount" value="0" min="0">
            </div>
        </div>
        <div class="ingredient-status">
            <h2>Ingredient Status</h2>
            <div id="status-24hr" class="status-box">
                <span>24hr:</span> </div>
            <div id="status-48hr" class="status-box">
                <span>48hr:</span> </div>
        </div>
    </header>

    <main>
        <section id="material-shortages">
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Material</th>
                            <th>Short Qty</th>
                            <th>Next ETA</th>
                        </tr>
                    </thead>
                    <tbody id="shortagesTableBody">
                        <tr><td colspan="3">Loading data...</td></tr>
                    </tbody>
                </table>
            </div>
        </section>

        <section id="railcar-overview">
            <div class="rail-summary">
                <div class="summary-box">
                    <span id="railOnSiteCount" class="summary-value">0</span>
                    <span class="summary-label">Total On Site:</span>                    
                </div>
                <div class="summary-box">
                    <span id="railInYardCount" class="summary-value">0</span>
                    <span class="summary-label">Total In Yard:</span>                    
                </div>
                <div class="summary-box">
                    <span id="railTotalCount" class="summary-value">0</span>
                    <span class="summary-label">Grand Total:</span>                    
                </div>
            </div>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Rail #</th>
                            <th>Material</th>
                            <th>Location</th>
                            <th>BOL</th>
                            <th>Romer</th>
                            <th>Released</th>
                        </tr>
                    </thead>
                    <tbody id="railcarsTableBody">
                        <tr><td colspan="6">Loading data...</td></tr>
                    </tbody>
                </table>
            </div>
        </section>
        

        <section id="inventory-counts">
            <div class="count-container">
                <div class="count-box cycle-counts">
                    <h3>Cycle Counts PTD: [<span id="cycleCountTotal">$0.00</span> ]</h3>
                     <div class="table-container small-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>W1</th>
                                    <th>W2</th>
                                    <th>W3</th>
                                    <th>W4</th>
                                </tr>
                            </thead>
                            <tbody id="cycleCountsWeeklyBody">
                                <tr><td colspan="4">Loading...</td></tr>
                            </tbody>
                        </table>
                     </div>
                </div>
            </div>
            <div class="count-box scrap-transactions">
                <h3>Scrap Transactions PTD: [<span id="scrapTotal">$0.00</span> ]</h3>
                <div class="table-container small-table">
                    <table>
                        <thead>
                            <tr>
                                <th>W1</th>
                                <th>W2</th>
                                <th>W3</th>
                                <th>W4</th>
                            </tr>
                        </thead>
                        <tbody id="scrapTransactionsWeeklyBody">
                            <tr><td colspan="4">Loading...</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
        <section id="financial-insights">
            <div class="insights-grid">
                <div class="insight-cell total-ptd">
                     <h3 class="total-inventory">Total Inventory Adj. (PTD)</h3>
                    <span class="insight-value" id="financialTotalPTD">$0.00</span>
                </div>

                <div class="insight-cell top-item">
                    <span class="item-name" id="top-cycle-item-1">N/A</span>
                    <span class="item-cost" id="top-cycle-cost-1">$0.00</span>
                </div>
                <div class="insight-cell top-item">
                    <span class="item-name" id="top-cycle-item-2">N/A</span>
                    <span class="item-cost" id="top-cycle-cost-2">$0.00</span>
                </div>
                <div class="insight-cell top-item">
                    <span class="item-name" id="top-cycle-item-3">N/A</span>
                    <span class="item-cost" id="top-cycle-cost-3">$0.00</span>
                </div>

                <div class="insight-cell top-item">
                    <span class="item-name" id="top-scrap-item-1">N/A</span>
                    <span class="item-cost" id="top-scrap-cost-1">$0.00</span>
                </div>
                <div class="insight-cell top-item">
                    <span class="item-name" id="top-scrap-item-2">N/A</span>
                    <span class="item-cost" id="top-scrap-cost-2">$0.00</span>
                </div>
                <div class="insight-cell top-item">
                    <span class="item-name" id="top-scrap-item-3">N/A</span>
                    <span class="item-cost" id="top-scrap-cost-3">$0.00</span>
                </div>

                <div class="insight-cell comments-cell">
                    <h4>Comments</h4>
                    <div class="comments-content" id="dashboardCommentsArea">
                        Loading comments...
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>Last Updated: <span id="lastUpdated"></span></p>
        <button id="theme-toggle-icon-button" aria-label="Toggle Theme">
            <svg id="theme-icon" xmlns="http://www.w3.org/2000/svg"
                 viewBox="0 0 100 100"
                 width="100"
                 height="100"
                 stroke="currentColor"
                 fill="none"
                 stroke-width="3"
                 stroke-linecap="round"
                 stroke-linejoin="round"
                 role="img"
                 aria-labelledby="lightbulbTitle">

                <title id="lightbulbTitle">Light Bulb Icon</title>

                <path class="bulb-outline" d="M 40 78 C 30 65, 30 45, 50 25 C 70 45, 70 65, 60 78" />
                <path class="bulb-fill"   d="M 40 78 C 30 65, 30 45, 50 25 C 70 45, 70 65, 60 78" /> <path class="bulb-outline" d="M 40 95 L 40 78 L 60 78 L 60 95" />
                <path class="bulb-fill"   d="M 40 95 L 40 78 L 60 78 L 60 95" />

                <line class="bulb-outline" x1="40" y1="83" x2="60" y2="83" />
                <line class="bulb-outline" x1="40" y1="89" x2="60" y2="89" />

                <path class="bulb-outline" d="M 48 78 L 48 70 M 52 78 L 52 70 M 48 70 Q 50 65 52 70" />
                <path class="bulb-fill"   d="M 48 78 L 48 70 M 52 78 L 52 70 M 48 70 Q 50 65 52 70" />

            </svg>
        </button>
    </footer>

    <script type="module" src="js/app.js"></script>
</body>
</html>
